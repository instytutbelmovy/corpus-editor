
# Што тут агулам ёсьць
- Editor.csproj і ўсё акрамя /src і GrammarDbConverted, гэта бэкэнд рэдактара на dotnet.
- /src франтэнд рэдактара на React/Next.js.
- GrammarDbConverter - маленькая прыблуда сканвэртаваць xml файлы граматычнай базы ў sqlite для працы бэкэнда.

# Як гэта запускаць
Пакуль што складаней пачаць працаваць з праэктам чым было б варта, але з часам стане лепей.
Спатрэбяцца dotnet sdk 9 і nodejs 22.
1. Трэба сканвэртаваць файлы граматычнае базы.
   Узяць іх можна тут https://github.com/Belarus/GrammarDB/tree/master/data
   `GrammarDbConverter> dotnet run -- ..\data\ ..\files\grammar.db`
2. Трэба мець ключы для доступу да s3 кошыку з файламі verti. Ключы можна ўзяць у мяне, альбо можна выкарыстоўваць які ўласны кошык замест ibm-editor-dev і свае ключы.
3. Сабраць франтэнд.
   `src> npm install`
   `src> npm run build`
4. `> dotnet run`
   Важна што фронт мусіць быць сабраны спачатку. Бо бэкэнд зьбірае вынікі зборкі франта.

# Як гэта распрацоўваць
## Бэкэнд
Калі з большага працаваць на бэкэндзе то можа прасьцей сабраць фронт (`src> npm run build`), калі той наогул патрэбны, і далей ужо рабіць штось на бэку і перазьбіраць/запускаць яго. Па дэфолту дасяжны на http://localhost:5087.
Сабраны такім чынам фронт складвае вынік зборкі ў wwwroot, адкуль усе файлы падхоплівае бэкэнд і аддае браўзэру.

## Франтэнд
Калі асноўная праца на бэкэндзе, то зручней запусьціць бэкэнд асобна, а фронт ужо запускаць у распрацоўным рэжыме (`src> npm run dev`), і даступацца да яго праз http://localhost:3000.
Запушчаны такім чынам франтэнд перасылае запросы да /api на http://localhost:5087 (глядзі src/next.config.ts).
Акрамя таго на франце можна запускаць тэсты `npm run test`.


## Зборка ў Docker вобраз
`> docker build .`
